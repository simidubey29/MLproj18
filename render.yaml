# .render.yaml
services:
  - type: web
    name: sms-spam-classification
    env: python
    plan: free
    buildCommand: |
      python -m pip install --upgrade pip setuptools wheel && \
      python -m pip install --prefer-binary --no-cache-dir -r requirements.txt 2>&1 | tee pip_install.log || true && \
      tail -n 200 pip_install.log && \
      python -m nltk.downloader punkt punkt_tab stopwords
    startCommand: streamlit run app.py --server.port $PORT --server.address 0.0.0.0
